{% extends 'base.html.twig' %}

{% block title %}Meeting{% endblock %}

{% block body %}
    <h1>Meeting</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Nom de la sortie</th>
                <td>{{ meeting.name }}</td>
            </tr>
            <tr>
                <th>Organisateur</th>
                <td>{{ meeting.organizer.login }}</td>
            </tr>
             <tr>
                <th>Campus</th>
                <td>{{ meeting.campus.name }}</td>
            </tr>
            <tr>
                <th>Lieu</th>
                <td>{{ meeting.place.name }}</td>
            </tr>
            <tr>
                <th>Ville</th>
                <td>{{ meeting.place.city.name }}</td>
            </tr>
            <tr>
                <th>Durée</th>
                <td>{{ meeting.duration }}h</td>
            </tr>
            <tr>
                <th>Date</th>
                <td>{{ meeting.date ? meeting.date|date('Y-m-d H:i') : '' }}</td>
            </tr>
            <tr>
                <th>Nombre de participants maximum</th>
                <td>{{ meeting.usersMax }}</td>
            </tr>
            <tr>
                <th>Participants inscrits</th>
                <td>{{ meeting.nbUser }}</td>
            </tr>
            <tr>
                <th>Sortie</th>
                <td>{{ meeting.state.value }}</td>
            </tr>
            <tr>
                <th>Information</th>
                <td>{{ meeting.textNote }}</td>
            </tr>
            <tr>
                <th>Date limite d'inscription</th>
                <td>{{ meeting.limitDate ? meeting.limitDate|date('Y-m-d') : '' }}</td>
            </tr>
        </tbody>
    </table>

    <a href="{{ path('app_meeting_index') }}" class="btn btn-custom">Retour à la liste</a>
    {% if (meeting.state.value != 'Annulée') and meeting.organizer.id == app.user.id %}
        <a href="{{ path('app_meeting_edit', {'id': meeting.id}) }}" class="btn btn-custom">Modifier la sortie</a>
        {% if "now"|date("Y-m-d") < meeting.limitDate|date('Y-m-d') %}
            <a href="{{ path('app_meeting_cancel', {'id': meeting.id}) }}" class="btn btn-custom">Annuler la sortie</a>
        {% endif %}
    {% endif %}
{% endblock %}
